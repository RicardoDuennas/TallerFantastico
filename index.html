<!DOCTYPE html>

<html>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/maphilight/1.4.0/jquery.maphilight.min.js"></script>

    <head>
    <meta charset="ISO-8859-1"> 
    <style>
          .container {
            position: relative;
            margin: 30px;
          }
          .box {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
          }
          .overlay {
            width: 100%;
            height: 100%;
            z-index: 9;
            margin: 0px;
            background: #9d78e8;
          }
          #mapa{
            position: relative;
          }
          p.event_desc {
            color: #ff9b55;
              font: bold 70px "Helvetica Neue", Helvetica, Arial, sans-serif;
              line-height: 74px;
              margin: 0px;
              vertical-align: middle;
              padding: 10px;
            }
      
        </style>
    </head>

    <body>

        <!-- Header -->
        <div class="header">
          <h1>TALLER FANT&Aacute;STICO - Ecosistema 1</h1>
          <p>Resultado interactivo de la experiencia de paisaje sonoro realiza con los cursos 606 y 706 del Instituto T&eacute;cnico Industrial Piloto, en desarrollo del Ecosistema 1, del programa Crea de Idartes. Marzo de 2023. Pase el mouse por encima de las zonas marcadas para escuchar las grabaciones.</p>
        </div>




            <img src="img/Zonas-ITIP.jpg" usemap="#image-map" class="map">
            <!-- Image Map Generated by http://www.image-map.net/ -->
                <map name="image-map" id="mapa">
                <area id="areaZona1" alt="Zona1" title="Zona1" coords="401,631,239,564" shape="rect" class="aud">
                <area id="areaZona2" alt="Zona2" title="Zona2" coords="389,437,582,550" shape="rect" class="aud">
                <area id="areaZona3" alt="Zona3" title="Zona3" coords="131,534,200,534,239,258,181,258" shape="poly" class="aud">
                <area id="areaZona4" alt="Zona4" title="Zona4" coords="365,475,293,343" shape="rect" class="aud">
                <area id="areaZona5" alt="Zona5" title="Zona5" coords="412,354,570,422" shape="rect" class="aud">
                <area id="areaZona6" alt="Zona6" title="Zona6" coords="260,270,560,338" shape="rect" class="aud">
                <area id="areaZona7" alt="Zona7" title="Zona7" coords="431,264,301,201" shape="rect" class="aud">
                <area id="areaZona8" alt="Zona8" title="Zona8" coords="470,198,557,257" shape="rect" class="aud">
                <area id="areaZona9" alt="Zona9" title="Zona9" coords="206,144,458,184" shape="rect" class="aud">
            </map>
            </div>
            <div class="box overlay">
                <p class="event_desc">Este mapa contiene sonidos que recrean el paisaje sonoro de distintas zonas del Instituto T&eacute;cnico Industrial Piloto. Los paisajes sonoros fueron imaginados, cartografiados y grabados por estudiantes de grados 6 y 7 de Bogot&aacute;.</p></br><p class="event_desc">Haga click para escuchar.</p>
            </div>
   
        <h2 class="subT">Zona 1</h2>
        <audio id="sndZona1" controls preload="auto"><source src="snd/Zona1.mp3" type="audio/mp3" class="aud"></audio></br>
        <h2 class="subT">Zona 2</h2>
        <audio id="sndZona2" controls preload="auto"><source src="snd/Zona2.mp3" type="audio/mp3" class="aud"></audio></br>
        <h2 class="subT">Zona 3</h2>
        <audio id="sndZona3" controls preload="auto"><source src="snd/Zona3.mp3" type="audio/mp3" class="aud"></audio></br>
        <h2 class="subT">Zona 4</h2>
        <audio id="sndZona4" controls preload="auto"><source src="snd/Zona4.mp3" type="audio/mp3" class="aud"></audio></br>
        <h2 class="subT">Zona 5</h2>
        <audio id="sndZona5" controls preload="auto"><source src="snd/Zona5.mp3" type="audio/mp3" class="aud"></audio></br>
        <h2 class="subT">Zona 6</h2>
        <audio id="sndZona6" controls preload="auto"><source src="snd/Zona6.mp3" type="audio/mp3" class="aud"></audio></br>
        <h2 class="subT">Zona 7</h2>
        <audio id="sndZona7" controls preload="auto"><source src="snd/Zona7.mp3" type="audio/mp3" class="aud"></audio></br>
        <h2 class="subT">Zona 8</h2>
        <audio id="sndZona8" controls preload="auto"><source src="snd/Zona8.mp3" type="audio/mp3" class="aud"></audio></br>
        <h2 class="subT">Zona 9</h2>
        <audio id="sndZona9" controls preload="auto"><source src="snd/Zona9.mp3" type="audio/mp3" class="aud"></audio></br>


    </body>

        <script type="text/javascript">
      $(function() {
        $('.map').maphilight();
      });

    var mySound1 = document.getElementById("sndZona1");
    var mySound2 = document.getElementById("sndZona2");
    var mySound3 = document.getElementById("sndZona3");
    var mySound4 = document.getElementById("sndZona4");
    var mySound5 = document.getElementById("sndZona5");
    var mySound6 = document.getElementById("sndZona6");
    var mySound7 = document.getElementById("sndZona7");
    var mySound8 = document.getElementById("sndZona8");
    var mySound9 = document.getElementById("sndZona9");

    var mySoundArray = [mySound1, mySound2, mySound3, mySound4, mySound5, mySound6, mySound7, mySound8, mySound9];
    var mySoundArrayPos = 0;

    var allAudio = []
    allAudio.push(mySound1)
    allAudio.push(mySound2)
    allAudio.push(mySound3)
    allAudio.push(mySound4)
    allAudio.push(mySound5)
    allAudio.push(mySound6)
    allAudio.push(mySound7)
    allAudio.push(mySound8)
    allAudio.push(mySound9)

    $( "area" ).mouseenter(
      function() {
//        console.log(this.id);
          switch (this.id) {
              case "areaZona1":
                console.log(this.id);
                mySound1.currentTime = 0;
                mySound1.play();
                break;
              case "areaZona2":
                mySound2.currentTime = 0;
                mySound2.play();
                break;
              case "areaZona3":
                mySound3.currentTime = 0;
                mySound3.play();
                break;
              case "areaZona4":
                mySound4.currentTime = 0;
                mySound4.play();
                break;
              case "areaZona5":
                mySound5.currentTime = 0;
                mySound5.play();
                break;
              case "areaZona6":
                mySound6.currentTime = 0;
                mySound6.play();
                break;
              case "areaZona7":
                mySound7.currentTime = 0;
                mySound7.play();
                break;
              case "areaZona8":
                mySound8.currentTime = 0;
                mySound8.play();
                break;
              case "areaZona9":
                mySound9.currentTime = 0;
                mySound9.play();
                break;
          }
      }
    );

    $( "area" ).mouseleave(
      function() {
                console.log("Hola");
                mySound1.pause();
                mySound2.pause();
                mySound3.pause();
                mySound4.pause();
                mySound5.pause();
                mySound6.pause();
                mySound7.pause();
                mySound8.pause();
                mySound9.pause();
      }
    );

    $( ".overlay" ).click(function() {
      this.remove();
      if(allAudio) {
        for(var audio of allAudio) {
        audio.play()
        audio.pause()
        audio.currentTime = 0
        }
      allAudio = null
      }
    });


//    $('.subT').mouseover(function() {
//       alert(this.id);
//    });


/*
    var myButton = document.getElementById("myButton");
    myButton.addEventListener("click", function(event) {
        mySound.play();
        mySoundArrayPos = 0;
        startSoundTimer();
    });

document.addEventListener('play', function(e){
    var audios = document.getElementsByTagName('audio');
    for(var i = 0, len = audios.length; i < len;i++){
        if(audios[i] != e.target){
            audios[i].pause();
        }
    }
}, true);

    const startSoundTimer = () => {
        var mySoundTimer = setInterval(() => {
            if (mySoundArray[mySoundArrayPos].currentTime >= mySoundArray[mySoundArrayPos].duration) {
                if (mySoundArrayPos < mySoundArray.length -1) {
                    mySoundArrayPos += 1;
                    mySoundArray[mySoundArrayPos].play();
                } else {
                    clearInterval(mySoundTimer);
                }
            }
        }, 10);
    };
*/
    </script>

</html>